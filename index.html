<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Portal de Imagens de Obras</title>
  <link rel="stylesheet" href="css/style.css">
  <style>
    .skeleton {
      background: linear-gradient(90deg, #dce8f5 25%, #c5d9ee 50%, #dce8f5 75%);
      background-size: 200% 100%;
      animation: shimmer 1.5s infinite;
    }
    @keyframes shimmer {
      0%   { background-position: 200% 0; }
      100% { background-position: -200% 0; }
    }
  </style>
</head>
<body data-page="dashboard">

  <!-- ‚îÄ‚îÄ‚îÄ HEADER ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
  <header class="header">
    <div class="header-inner">
      <a class="logo" href="index.html">
        <div class="logo-icon">üèóÔ∏è</div>
        <div class="logo-info">
          <span class="logo-text">Portal de Obras</span>
          <span class="logo-sub">Registro Fotogr√°fico</span>
        </div>
      </a>
      <nav class="header-nav">
        <a href="upload.html" class="btn btn-white">
          ‚¨Ü Enviar Fotos
        </a>
        <button id="btnSettings" class="btn btn-ghost">
          ‚öô Configura√ß√µes
        </button>
      </nav>
    </div>
  </header>

  <!-- ‚îÄ‚îÄ‚îÄ HERO ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
  <section class="hero">
    <div class="hero-inner">
      <div class="hero-left">
        <h1 class="hero-title">Acompanhamento de Obras</h1>
        <p class="hero-sub">Visualize as fotos de capa e andamento de cada obra em tempo real</p>
      </div>
      <div class="hero-stats">
        <div class="stat">
          <div class="stat-num" id="statTotal">15</div>
          <div class="stat-label">Total de Obras</div>
        </div>
        <div class="stat">
          <div class="stat-num" id="statAndamento">‚Äî</div>
          <div class="stat-label">Em Andamento</div>
        </div>
        <div class="stat">
          <div class="stat-num" id="statConcluida">‚Äî</div>
          <div class="stat-label">Conclu√≠das</div>
        </div>
      </div>
    </div>
  </section>

  <!-- ‚îÄ‚îÄ‚îÄ MAIN ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
  <main class="main">

    <div class="section-header">
      <div class="section-title">Todas as Obras</div>
      <div class="filters">
        <button class="filter-btn active" data-filter="todos">Todas</button>
        <button class="filter-btn" data-filter="em_andamento">Em Andamento</button>
        <button class="filter-btn" data-filter="concluida">Conclu√≠das</button>
        <button class="filter-btn" data-filter="nao_iniciada">N√£o Iniciadas</button>
      </div>
    </div>

    <div class="obras-grid" id="obrasGrid">
      <!-- Cards injetados pelo app.js -->
    </div>

  </main>

  <!-- ‚îÄ‚îÄ‚îÄ FOOTER ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
  <footer class="footer">
    Portal de Imagens de Obras &nbsp;¬∑&nbsp;
    Dados para Power BI dispon√≠veis em <code>data/obras.json</code>
  </footer>

  <!-- ‚îÄ‚îÄ‚îÄ MODAL DE CONFIGURA√á√ïES ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
  <div class="modal-overlay" id="settingsModal">
    <div class="modal">
      <div class="modal-header">
        <div class="modal-title">‚öô Configura√ß√£o do Reposit√≥rio GitHub</div>
        <button class="modal-close" id="closeSettings">‚úï</button>
      </div>

      <div id="cfgStatus" class="config-status warn">
        ‚ö†Ô∏è &nbsp;Configure o reposit√≥rio GitHub para habilitar uploads
      </div>

      <form id="settingsForm">
        <div class="form-group">
          <label class="form-label" for="inOwner">Usu√°rio ou Organiza√ß√£o GitHub</label>
          <input class="form-input" id="inOwner" type="text" placeholder="ex: minha-empresa" autocomplete="off">
        </div>
        <div class="form-group">
          <label class="form-label" for="inRepo">Nome do Reposit√≥rio</label>
          <input class="form-input" id="inRepo" type="text" placeholder="ex: portal-obras-imagens" autocomplete="off">
        </div>
        <div class="form-group">
          <label class="form-label" for="inToken">
            Token de Acesso Pessoal (PAT)
            <span> ‚Äî necess√°rio para uploads</span>
          </label>
          <input class="form-input" id="inToken" type="password" placeholder="ghp_xxxxxxxxxxxxxxxxxxxx" autocomplete="off">
          <div class="form-hint">
            Gere em: GitHub ‚Üí Settings ‚Üí Developer settings ‚Üí Personal access tokens<br>
            Permiss√£o necess√°ria: <strong>Contents: Read &amp; Write</strong>
          </div>
        </div>
        <div class="form-group">
          <label class="form-label" for="inBranch">Branch <span>(padr√£o: main)</span></label>
          <input class="form-input" id="inBranch" type="text" placeholder="main" value="main">
        </div>
        <div class="form-actions" style="flex-wrap:wrap;gap:.5rem">
          <button type="button" class="btn" style="background:#f1f5f9;color:#555"
            onclick="document.getElementById('settingsModal').classList.remove('open')">Cancelar</button>
          <button type="button" class="btn" style="background:#eff6ff;color:#1d4ed8;border:1px solid #bfdbfe"
            onclick="generateSetupLink()" title="Gera um link para enviar aos engenheiros ‚Äî ao abrir o link o portal deles j√° fica configurado">
            üîó Gerar Link para Engenheiros
          </button>
          <button type="submit" class="btn btn-primary">Salvar e Verificar</button>
        </div>
      </form>
    </div>
  </div>

  <!-- ‚îÄ‚îÄ‚îÄ TOAST ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
  <div class="toast" id="toast"></div>

  <!-- ‚îÄ‚îÄ‚îÄ SCRIPTS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
  <script src="js/config.js"></script>
  <script src="js/github-api.js"></script>
  <script src="js/app.js"></script>

</body>
</html>
