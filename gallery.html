<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Galeria da Obra â€” Portal de Obras</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body data-page="gallery">

  <!-- â”€â”€â”€ HEADER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <header class="header">
    <div class="header-inner">
      <a class="logo" href="index.html">
        <div class="logo-icon">ğŸ—ï¸</div>
        <div class="logo-info">
          <span class="logo-text">Portal de Obras</span>
          <span class="logo-sub">Registro FotogrÃ¡fico</span>
        </div>
      </a>
      <nav class="header-nav">
        <a href="upload.html" class="btn btn-white">
          â¬† Enviar Fotos
        </a>
        <button id="btnSettings" class="btn btn-ghost">
          âš™ ConfiguraÃ§Ãµes
        </button>
      </nav>
    </div>
  </header>

  <!-- â”€â”€â”€ GALLERY HERO â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <section class="gallery-hero">
    <div class="gallery-hero-inner">
      <a class="back-btn" href="index.html">â† Voltar</a>
      <div class="gallery-meta">
        <h1 class="gallery-title" id="galleryTitle">Carregando...</h1>
        <p class="gallery-sub">
          <span id="galleryCode"></span>
          &nbsp;Â·&nbsp;
          ğŸ“ <span id="galleryLocal"></span>
        </p>
      </div>
      <div class="gallery-actions">
        <a href="upload.html" class="btn btn-white" id="galleryUploadBtn">
          â¬† Enviar Fotos
        </a>
      </div>
    </div>
  </section>

  <!-- â”€â”€â”€ MAIN â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <main class="main">

    <!-- Info Card -->
    <div class="info-card" style="margin-bottom:1.75rem">
      <div class="info-item">
        <span class="info-label">Status</span>
        <span class="info-value" id="infoStatus">â€”</span>
      </div>
      <div class="info-divider"></div>
      <div class="info-item">
        <span class="info-label">Total de Imagens</span>
        <span class="info-value" id="infoTotal">â€”</span>
      </div>
      <div class="info-divider"></div>
      <div class="info-item">
        <span class="info-label">Ãšltima AtualizaÃ§Ã£o</span>
        <span class="info-value" id="infoUpdated">â€”</span>
      </div>
    </div>

    <!-- Imagem de Capa -->
    <div class="section-divider">ğŸ“· Foto de Capa</div>

    <div class="cover-wrap" id="coverWrap">
      <div class="cover-placeholder">
        <div style="font-size:4rem">ğŸ—ï¸</div>
        <p>Carregando...</p>
      </div>
    </div>

    <!-- Fotos de Andamento -->
    <div class="section-divider" style="margin-top:2rem">ğŸ”¨ Andamento da Obra</div>

    <div class="gallery-grid" id="imagesGrid">
      <!-- Imagens injetadas pelo app.js -->
    </div>

  </main>

  <!-- â”€â”€â”€ FOOTER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <footer class="footer">
    Portal de Imagens de Obras &nbsp;Â·&nbsp; Galeria da Obra
  </footer>

  <!-- â”€â”€â”€ LIGHTBOX â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <div class="lightbox" id="lightbox" onclick="handleLightboxClick(event)">
    <button class="lightbox-close" onclick="closeLightbox()">âœ•</button>
    <div class="lightbox-img-wrap">
      <img id="lightboxImg" src="" alt="Foto ampliada">
    </div>
    <div class="lightbox-controls">
      <button class="lb-nav-btn" onclick="lightboxPrev(); event.stopPropagation()">â€¹</button>
      <button class="lb-nav-btn" onclick="lightboxNext(); event.stopPropagation()">â€º</button>
    </div>
    <div class="lightbox-counter" id="lbCounter"></div>
  </div>

  <!-- â”€â”€â”€ MODAL DE CONFIGURAÃ‡Ã•ES â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <div class="modal-overlay" id="settingsModal">
    <div class="modal">
      <div class="modal-header">
        <div class="modal-title">âš™ ConfiguraÃ§Ã£o do RepositÃ³rio GitHub</div>
        <button class="modal-close" id="closeSettings">âœ•</button>
      </div>
      <div id="cfgStatus" class="config-status warn">
        âš ï¸ &nbsp;Configure o repositÃ³rio GitHub para habilitar uploads
      </div>
      <form id="settingsForm">
        <div class="form-group">
          <label class="form-label" for="inOwner">UsuÃ¡rio ou OrganizaÃ§Ã£o GitHub</label>
          <input class="form-input" id="inOwner" type="text" placeholder="ex: minha-empresa" autocomplete="off">
        </div>
        <div class="form-group">
          <label class="form-label" for="inRepo">Nome do RepositÃ³rio</label>
          <input class="form-input" id="inRepo" type="text" placeholder="ex: portal-obras-imagens" autocomplete="off">
        </div>
        <div class="form-group">
          <label class="form-label" for="inToken">
            Token de Acesso Pessoal (PAT)
            <span> â€” necessÃ¡rio para uploads</span>
          </label>
          <input class="form-input" id="inToken" type="password" placeholder="ghp_xxxxxxxxxxxxxxxxxxxx" autocomplete="off">
          <div class="form-hint">
            PermissÃ£o necessÃ¡ria: <strong>Contents: Read &amp; Write</strong>
          </div>
        </div>
        <div class="form-group">
          <label class="form-label" for="inBranch">Branch <span>(padrÃ£o: main)</span></label>
          <input class="form-input" id="inBranch" type="text" placeholder="main" value="main">
        </div>
        <div class="form-actions" style="flex-wrap:wrap;gap:.5rem">
          <button type="button" class="btn" style="background:#f1f5f9;color:#555"
            onclick="document.getElementById('settingsModal').classList.remove('open')">Cancelar</button>
          <button type="button" class="btn" style="background:#eff6ff;color:#1d4ed8;border:1px solid #bfdbfe"
            onclick="generateSetupLink()">
            ğŸ”— Gerar Link para Engenheiros
          </button>
          <button type="submit" class="btn btn-primary">Salvar e Verificar</button>
        </div>
      </form>
    </div>
  </div>

  <!-- â”€â”€â”€ TOAST â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <div class="toast" id="toast"></div>

  <!-- â”€â”€â”€ SCRIPTS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <script src="js/config.js"></script>
  <script src="js/github-api.js"></script>
  <script src="js/app.js"></script>
  <script>
    function handleLightboxClick(e) {
      if (e.target === document.getElementById('lightbox')) closeLightbox();
    }
  </script>

</body>
</html>
